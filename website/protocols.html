<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLightSFTP Protocols 101</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="icon.png">
</head>
<body>
    <div class="main-content-wrapper">
        <nav class="navbar">
            <div class="container">
                <div class="nav-brand">
                    <img src="icon.png" alt="SLightSFTP Logo" class="logo">
                    <span>SLightSFTP</span>
                    <span class="free-badge">FREE</span>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#primer">Primer</a></li>
                    <li><a href="#keys">Public Keys</a></li>
                    <li><a href="#firewall">Firewall</a></li>
                    <li><a href="#faq">FAQ</a></li>
                </ul>
            </div>
        </nav>

        <section class="protocols" id="primer">
            <div class="container">
                <h2>SFTP vs FTP vs FTPS</h2>
                <p class="section-intro">Positioning each protocol so you can pick the right one per use case.</p>
                <div class="protocol-grid">
                    <div class="protocol-card">
                        <h3>SFTP</h3>
                        <ul>
                            <li>Runs over SSH (port 22 by default)</li>
                            <li>Single channel for control + data</li>
                            <li>Supports password and SSH keys</li>
                            <li>Best for Internet-facing workloads</li>
                        </ul>
                    </div>
                    <div class="protocol-card">
                        <h3>FTP</h3>
                        <ul>
                            <li>Control channel on port 21</li>
                            <li>Data on passive ports (configurable)</li>
                            <li>No encryption; use on trusted LAN/VPN</li>
                        </ul>
                    </div>
                    <div class="protocol-card">
                        <h3>FTPS?</h3>
                        <ul>
                            <li>Explicit FTPS not built-in today</li>
                            <li>Use SFTP for encrypted transfers</li>
                            <li>FTPS can be fronted via a proxy if required</li>
                            <li>Front an FTP listener with an FTPS gateway if mandated</li>
                        </ul>
                    </div>
                </div>
                <div class="diagram-wrapper">
<pre class="diagram">
Protocol Decision
Security first  -> SFTP
Legacy only     -> FTP (LAN/VPN)
Regulated + TLS -> SFTP or FTPS proxy in front of FTP
</pre>
                </div>
            </div>
        </section>

        <section class="protocols" id="keys">
            <div class="container">
                <h2>Public Key Authentication</h2>
                <div class="protocol-details">
                    <div class="protocol-card wide">
                        <h3>Generate Keys</h3>
                        <ol>
                            <li>On client: <code>ssh-keygen -t ed25519 -C "user@host"</code></li>
                            <li>Keep private key safe; copy contents of <code>id_ed25519.pub</code></li>
                            <li>Use PuTTYgen for .ppk if preferred</li>
                        </ol>
                    </div>
                    <div class="protocol-card wide">
                        <h3>Add to SLightSFTP</h3>
                        <ol>
                            <li>Open Users panel âžœ Add or Edit user</li>
                            <li>Enable Public Key authentication</li>
                            <li>Paste public key text; save</li>
                            <li>Optionally disable password for key-only</li>
                        </ol>
                    </div>
                    <div class="protocol-card wide">
                        <h3>Connect</h3>
                        <ul>
                            <li>WinSCP/FileZilla: import private key and select it</li>
                            <li>OpenSSH: <code>sftp -i id_ed25519 user@host</code></li>
                            <li>Audit: each login logs IP, username, method</li>
                        </ul>
                        <p class="note">Revoke instantly by removing the key entry and saving.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="protocols" id="firewall">
            <div class="container">
                <h2>Firewall & Ports</h2>
                <div class="protocol-details">
                    <div class="protocol-card wide">
                        <h3>SFTP</h3>
                        <ul>
                            <li>Allow port 22 (or your chosen port)</li>
                            <li>Prefer IP allowlists for Internet exposure</li>
                        </ul>
                    </div>
                    <div class="protocol-card wide">
                        <h3>FTP</h3>
                        <ul>
                            <li>Allow control port 21</li>
                            <li>Allow passive range (configure narrow range)</li>
                            <li>Keep behind VPNs when possible</li>
                            <li>Document range for clients (example: 50000-50100)</li>
                        </ul>
                    </div>
                    <div class="protocol-card wide">
                        <h3>Web GUI</h3>
                        <ul>
                            <li>Default port 3000</li>
                            <li>Use reverse proxy (IIS/NGINX) for TLS</li>
                            <li>Restrict to admin IPs</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="protocols" id="faq">
            <div class="container">
                <h2>Quick FAQ</h2>
                <div class="protocol-details">
                    <div class="protocol-card wide">
                        <h3>Where are keys stored?</h3>
                        <p>In the local database alongside users; they never leave the server.</p>
                    </div>
                    <div class="protocol-card wide">
                        <h3>Can I use FTPS?</h3>
                        <p>Not natively; prefer SFTP. If mandatory, front with an FTPS proxy and point it to the FTP listener.</p>
                    </div>
                    <div class="protocol-card wide">
                        <h3>Passive ports?</h3>
                        <p>Set a narrow passive range in config and open only that range in the firewall. Example: reserve 50000-50100, then allow that range on the host firewall.</p>
                    </div>
                    <div class="protocol-card wide">
                        <h3>ASCII Passive Setup</h3>
<pre class="diagram">
FTP control (21)
Passive range (50000-50100) -> open on firewall
Client connects: 21 -> gets port -> data flows on assigned passive port
</pre>
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer">
            <div class="container">
                <div class="footer-bottom">
                    <p>&copy; 2025 SLightSFTP Server. Free and Open Source Software.</p>
                    <p><a href="index.html">Back to Home</a></p>
                </div>
            </div>
        </footer>
    </div>
</body>
</html>
